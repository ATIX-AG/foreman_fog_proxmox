<%# Copyright 2018 Tristan Robert

This file is part of ForemanProxmox.

ForemanProxmox is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ForemanProxmox is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with ForemanProxmox. If not, see <http://www.gnu.org/licenses/>. %>

<div class="fields">
  <div id='templates' class=''>
    <div class="form-group">
      <%= selectable_f_with_cache_invalidation f,
                       :custom_template_name,
                       [[_("No template"), ""]] + proxmox_custom_template_map(compute_resource),
                       { :selected => attribute_map[:template_selected_custom] },
                       { :class => 'form-control span2',
                         :label => 'Custom Template'
                       },
                       {
                         :callback               => 'proxmoxPopulateCustomTemplates',
                         :title                  => 'Refresh available custom templates',
                         :url                    => '/foreman_proxmox/cache/refresh',
                         :computer_resource_id   => compute_resource.id,
                         :attribute              => 'custom_templates'
                       }
      %>
    </div>

    <div class="form-group ">
      <%= selectable_f_with_cache_invalidation f,
                                               :builtin_template_name,
                                               [[_("No template"), ""]] + proxmox_builtin_template_map(compute_resource),
                                               { :selected => attribute_map[:template_selected_builtin] },
                                               { :class => 'form-control span2',
                                                 :label => 'Builtin Template'
                                               },
                                               {
                                                   :callback               => 'proxmoxPopulateBuiltinTemplates',
                                                   :title                  => 'Refresh available builtin templates',
                                                   :url                    => '/foreman_proxmox/cache/refresh',
                                                   :computer_resource_id   => compute_resource.id,
                                                   :attribute              => 'builtin_templates'
                                               }
      %>
    </div>
  </div>
</div>
